import java.util.Scanner;

public class Grid {
	public static void main(String[] args) {
		Scanner sc = new Scanner(System.in);
		int numOfTestCase = sc.nextInt();
		for (int i = 0; i < numOfTestCase; i++) {
			int a = sc.nextInt();
			System.out.println(a);
			int b = sc.nextInt();
			String s = sc.nextLine();
		//	System.out.println(s);
			String str[] = new String[a];
			for (int j = 0; j < a; j++) {
				str[j] = sc.nextLine();
				System.out.println(str[j]);
			}
			int c = sc.nextInt();
			int d = sc.nextInt();
			System.out.println("nnn");
			String str1[] = new String[c];
			System.out.println(c);
			String s1 = sc.nextLine();
			for (int j = 0; j < c; j++) {
				str1[j] = sc.nextLine();
				System.out.println(str1[j]);
			}
			System.out.println(grid(str,str1));
		

		}

	}
	private static boolean grid(String[] str,String[] str1){
		for (int j = 0; j < a; j++) {
			int k = -1;
			if (k == -1) {
				k = str[j].indexOf(str1[1]);
			} else {
				int flag = 0;
				for (int e = 1; e < c; e++) {
					if (str[j].indexOf(str1[e], k) != k) {
						System.out.println("NO");
						return false;
					}
					return true;
				}
				
			}
		}return false;
	}
	
}
